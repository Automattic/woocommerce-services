{"version":3,"sources":["@wordpress/e2e-test-utils/src/visit-admin-page.js"],"names":["join","createURL","isCurrentURL","loginUser","getPageError","visitAdminPage","adminPath","query","page","goto","error","Error"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,IAAT,QAAqB,MAArB;AAEA;AACA;AACA;;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,YAAT,QAA6B,kBAA7B;AACA,SAASC,SAAT,QAA0B,cAA1B;AACA,SAASC,YAAT,QAA6B,kBAA7B;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,gBAAsBC,cAAtB;AAAA;AAAA;;;6EAAO,iBAA+BC,SAA/B,EAA0CC,KAA1C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAC,IAAI,CAACC,IAAL,CAAWR,SAAS,CAAED,IAAI,CAAE,UAAF,EAAcM,SAAd,CAAN,EAAiCC,KAAjC,CAApB,CADA;;AAAA;AAAA,iBAGDL,YAAY,CAAE,cAAF,CAHX;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAICC,SAAS,EAJV;;AAAA;AAAA;AAAA,mBAKCE,cAAc,CAAEC,SAAF,EAAaC,KAAb,CALf;;AAAA;AAAA;AAAA,mBAQcH,YAAY,EAR1B;;AAAA;AAQAM,YAAAA,KARA;;AAAA,iBASDA,KATC;AAAA;AAAA;AAAA;;AAAA,kBAUC,IAAIC,KAAJ,CAAW,uCAAuCD,KAAlD,CAVD;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * External dependencies\n */\nimport { join } from 'path';\n\n/**\n * Internal dependencies\n */\nimport { createURL } from './create-url';\nimport { isCurrentURL } from './is-current-url';\nimport { loginUser } from './login-user';\nimport { getPageError } from './get-page-error';\n\n/**\n * Visits admin page; if user is not logged in then it logging in it first, then visits admin page.\n *\n * @param {string} adminPath String to be serialized as pathname.\n * @param {string} query String to be serialized as query portion of URL.\n */\nexport async function visitAdminPage( adminPath, query ) {\n\tawait page.goto( createURL( join( 'wp-admin', adminPath ), query ) );\n\n\tif ( isCurrentURL( 'wp-login.php' ) ) {\n\t\tawait loginUser();\n\t\tawait visitAdminPage( adminPath, query );\n\t}\n\n\tconst error = await getPageError();\n\tif ( error ) {\n\t\tthrow new Error( 'Unexpected error in page content: ' + error );\n\t}\n}\n"]}