{"version":3,"sources":["@wordpress/e2e-test-utils/src/install-plugin.js"],"names":["switchUserToAdmin","switchUserToTest","visitAdminPage","installPlugin","slug","searchTerm","encodeURIComponent","page","click","waitForSelector"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,iBAAT,QAAkC,wBAAlC;AACA,SAASC,gBAAT,QAAiC,uBAAjC;AACA,SAASC,cAAT,QAA+B,oBAA/B;AAEA;AACA;AACA;AACA;AACA;AACA;;AACA,gBAAsBC,aAAtB;AAAA;AAAA;;;4EAAO,iBAA8BC,IAA9B,EAAoCC,UAApC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAL,iBAAiB,EADjB;;AAAA;AAAA;AAAA,mBAEAE,cAAc,CACnB,oBADmB,EAEnB,OACCI,kBAAkB,CAAED,UAAU,IAAID,IAAhB,CADnB,GAEC,uBAJkB,CAFd;;AAAA;AAAA;AAAA,mBAQAG,IAAI,CAACC,KAAL,oCAAwCJ,IAAxC,SARA;;AAAA;AAAA;AAAA,mBASAG,IAAI,CAACE,eAAL,qCAAmDL,IAAnD,SATA;;AAAA;AAAA;AAAA,mBAUAH,gBAAgB,EAVhB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * Internal dependencies\n */\nimport { switchUserToAdmin } from './switch-user-to-admin';\nimport { switchUserToTest } from './switch-user-to-test';\nimport { visitAdminPage } from './visit-admin-page';\n\n/**\n * Installs a plugin from the WP.org repository.\n *\n * @param {string} slug        Plugin slug.\n * @param {string?} searchTerm If the plugin is not findable by its slug use an alternative term to search.\n */\nexport async function installPlugin( slug, searchTerm ) {\n\tawait switchUserToAdmin();\n\tawait visitAdminPage(\n\t\t'plugin-install.php',\n\t\t's=' +\n\t\t\tencodeURIComponent( searchTerm || slug ) +\n\t\t\t'&tab=search&type=term'\n\t);\n\tawait page.click( `.install-now[data-slug=\"${ slug }\"]` );\n\tawait page.waitForSelector( `.activate-now[data-slug=\"${ slug }\"]` );\n\tawait switchUserToTest();\n}\n"]}