{"version":3,"sources":["@wordpress/e2e-test-utils/src/activate-plugin.js"],"names":["switchUserToAdmin","switchUserToTest","visitAdminPage","activatePlugin","slug","page","$","disableLink","click","waitForSelector"],"mappings":";;;AAAA;AACA;AACA;AACA,SAASA,iBAAT,QAAkC,wBAAlC;AACA,SAASC,gBAAT,QAAiC,uBAAjC;AACA,SAASC,cAAT,QAA+B,oBAA/B;AAEA;AACA;AACA;AACA;AACA;;AACA,gBAAsBC,cAAtB;AAAA;AAAA;;;6EAAO,iBAA+BC,IAA/B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACAJ,iBAAiB,EADjB;;AAAA;AAAA;AAAA,mBAEAE,cAAc,CAAE,aAAF,CAFd;;AAAA;AAAA;AAAA,mBAGoBG,IAAI,CAACC,CAAL,0BACPF,IADO,uBAHpB;;AAAA;AAGAG,YAAAA,WAHA;;AAAA,iBAMDA,WANC;AAAA;AAAA;AAAA;;AAAA;AAAA,mBAOCN,gBAAgB,EAPjB;;AAAA;AAAA;;AAAA;AAAA;AAAA,mBAUAI,IAAI,CAACG,KAAL,0BAA8BJ,IAA9B,qBAVA;;AAAA;AAAA;AAAA,mBAWAC,IAAI,CAACI,eAAL,0BAAwCL,IAAxC,uBAXA;;AAAA;AAAA;AAAA,mBAYAH,gBAAgB,EAZhB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * Internal dependencies\n */\nimport { switchUserToAdmin } from './switch-user-to-admin';\nimport { switchUserToTest } from './switch-user-to-test';\nimport { visitAdminPage } from './visit-admin-page';\n\n/**\n * Activates an installed plugin.\n *\n * @param {string} slug Plugin slug.\n */\nexport async function activatePlugin( slug ) {\n\tawait switchUserToAdmin();\n\tawait visitAdminPage( 'plugins.php' );\n\tconst disableLink = await page.$(\n\t\t`tr[data-slug=\"${ slug }\"] .deactivate a`\n\t);\n\tif ( disableLink ) {\n\t\tawait switchUserToTest();\n\t\treturn;\n\t}\n\tawait page.click( `tr[data-slug=\"${ slug }\"] .activate a` );\n\tawait page.waitForSelector( `tr[data-slug=\"${ slug }\"] .deactivate a` );\n\tawait switchUserToTest();\n}\n"]}