{"version":3,"sources":["@wordpress/e2e-test-utils/src/get-page-error.js"],"names":["REGEXP_PHP_ERROR","getPageError","page","content","match"],"mappings":";;;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAMA,gBAAgB,GAAG,oKAAzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,gBAAsBC,YAAtB;AAAA;AAAA;;;2EAAO;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBACgBC,IAAI,CAACC,OAAL,EADhB;;AAAA;AACAA,YAAAA,OADA;AAEAC,YAAAA,KAFA,GAEQD,OAAO,CAACC,KAAR,CAAeJ,gBAAf,CAFR;AAAA,6CAGCI,KAAK,GAAGA,KAAK,CAAE,CAAF,CAAR,GAAgB,IAHtB;;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,G","sourcesContent":["/**\n * Regular expression matching a displayed PHP error within a markup string.\n *\n * @see https://github.com/php/php-src/blob/598175e/main/main.c#L1257-L1297\n *\n * @type {RegExp}\n */\nconst REGEXP_PHP_ERROR = /(<b>)?(Fatal error|Recoverable fatal error|Warning|Parse error|Notice|Strict Standards|Deprecated|Unknown error)(<\\/b>)?: (.*?) in (.*?) on line (<b>)?\\d+(<\\/b>)?/;\n\n/**\n * Returns a promise resolving to one of either a string or null. A string will\n * be resolved if an error message is present in the contents of the page. If no\n * error is present, a null value will be resolved instead. This requires the\n * environment be configured to display errors.\n *\n * @see http://php.net/manual/en/function.error-reporting.php\n *\n * @return {Promise<?string>} Promise resolving to a string or null, depending\n *                            whether a page error is present.\n */\nexport async function getPageError() {\n\tconst content = await page.content();\n\tconst match = content.match( REGEXP_PHP_ERROR );\n\treturn match ? match[ 0 ] : null;\n}\n"]}